<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hidden Bites Nepal</title>

  <link rel="stylesheet" href="styles/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <!-- Font Awesome v5.15.4 (CDN) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <script src="styles/bootstrap.bundle.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">

  <style>
    .amenities i {
      color: #1f85e6;
    }
    .amenities {
      color: #000;
    }
  </style>
  
</head>

<body>
  <div class="parent-space container-fluid p-0">

    <div id="topBar" class="topBar container-fluid align-items-center d-flex justify-content-between">
      <div class="container p-0 d-flex justify-content-center justify-content-md-between">

        <!-- Contact Info -->
        <div class="contact-info d-flex">
          <a href="mailto:hiddenbitesnepal@gmail.com?subject=Hidden%20Bites%20Inquiry&body=Hello%2C%20I%20would%20like%20to%20know%20more%20about..."
            class="text-decoration-none text-dark">
            <i class="fas fa-envelope"></i> hiddenbitesnepal@gmail.com
          </a>

          <span>
            <i class="fas fa-mobile-alt me-1"></i><span id="phoneCode">+977 </span>9812345678
          </span>
        </div>

        <!-- Social Links -->
        <div class="social-links d-none d-md-flex align-items-center gap-3">
          <a href="#" class="text-dark"><i class="fab fa-twitter"></i></a>
          <a href="#" class="text-dark"><i class="fab fa-instagram"></i></a>
          <a href="#" class="text-dark"><i class="fab fa-facebook-f"></i></a>
          <a href="#" class="text-dark"><i class="fab fa-linkedin-in"></i></a>
        </div>

      </div>
    </div>



    <div class=" header">
      <nav class="navbar  navbar-expand-lg bg-body-tertiary ">
        <div class="container d-flex align-items-center justify-content-between">

          <!-- Brand -->
          <a class="navbar-brand fs-6" href="#">HiddenBitesNepal</a>

          <!-- Search Box -->
          <form class="position-relative" role="search" style="width: 30%;">
            <input class="form-control me-2 " type="search" placeholder="Search" aria-label="Search" />
            <i class="fas fa-search position-absolute top-50 end-0 translate-middle-y me-3"></i>
          </form>

          <!-- Location Dropdown -->
          <select name="location" id="location" class=" w-auto ms-2 px-2 fs-6">
            <option value="Kathmandu">KTM</option>
            <option value="Bhaktapur">BKT</option>
            <option value="Lalitpur">LLP</option>
          </select>

        </div>
      </nav>
    </div>

    <div class="heroBanner rounded">
      <h2 class="text-center">This is a Hero Banner </h2>
    </div>


    <div class="category container">
      <h2 class="text-center sub-heading-text">Categories</h2>
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3 justify-content-center" id="category-list">
      </div>
    </div>

    <div class="featuredTrails">
      <h2 class="text-center sub-heading-text ">Featured Trails</h2>
      <div id="carouselExampleCaptions" class="carousel slide">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
            aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
            aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
            aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner" id="carousel-parent">

        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
          data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
          data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

    </div>
    <!-- <div class="filterBar">Filter</div> -->

    <!-- <img src="images/newari.jpg" class="card-img-top" alt="Newari"
              style="width: 100%; height: clamp(160px, 22vw, 220px); object-fit: cover;"> -->


    <div class="foodSpot">
      <h2 class="text-center sub-heading-text ">Food Spots</h2>

      <div class="container " >
        <div class="row ">
          <div class="row g-3 row-cols-1 row-cols-md-2 row-cols-lg-3" id="restaurant-list">
    
          </div>

        </div>

        <!-- Pagination -->
        <nav aria-label="Page navigation example ">
          <ul class="pagination justify-content-center mt-5">
            <li class="page-item">
              <a class="page-link" href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item">
              <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </ul>
        </nav>


      </div>

    </div>
    <div class="addSpot container-fluid" id="addSpot">
        <h2 class="text-center sub-heading-text ">Contribute your Opinion</h2>

   

      <div class=" addPlace container rounded hover-zoom cursor-pointer" id="addPlace" onclick="window.location.href='addRestaurant.html'">
        <p>Know a hidden Gem? <br> Add your Spot Now.</p><i class="fas fa-plus d-md-none"></i>

      </div>


    </div>
    <div class="footer">
      <footer class="bg-dark text-light pt-4">
        <div class="container">
          <div class="row">

            <!-- About Section -->
            <div class="col-md-4 mb-3">
              <h5>About Us</h5>
              <p>We provide the best services for real estate, helping you find your dream property with ease.</p>
            </div>

            <!-- Quick Links -->
            <div class="col-md-4 mb-3">
              <h5>Quick Links</h5>
              <ul class="list-unstyled">
                <li><a href="#" class="text-light text-decoration-none">Home</a></li>
                <li><a href="#" class="text-light text-decoration-none">Properties</a></li>
                <li><a href="#" class="text-light text-decoration-none">About</a></li>
                <li><a href="#" class="text-light text-decoration-none">Contact</a></li>
              </ul>
            </div>

            <!-- Contact Info -->
            <div class="col-md-4 mb-3">
              <h5>Contact</h5>
              <p>Email: hiddenbitesnepal@gmail.com</p>
              <p>Phone: +977 123456789</p>
              <p>Address: Kathmandu, Nepal</p>
            </div>

          </div>

          <hr class="bg-light">

          <!-- Footer Bottom -->
          <div class="text-center pb-3">
            &copy; Taste Bites Nepal. All rights reserved.
          </div>
        </div>
      </footer>

    </div>
  </div>





  <script>
    var category = [
      {
        name: "MoMo",
        emoji: "🥟",
        bgImage: "images/momo.jpg"
      },
      {
        name: "Chowmein",
        emoji: "🍜",
        bgImage: "images/chowmein.jpg"
      },
      {
        name: "Thakali",
        emoji: "🍛",
        bgImage: "images/thakali.jpeg"
      },
      {
        name: "Newari",
        emoji: "🍲",
        bgImage: "images/newari.jpg"
      },
      {
        name: "Tea",
        emoji: "🍵",
        bgImage: "images/tea.jpg"
      },
      {
        name: "Sweets",
        emoji: "🍩",
        bgImage: "images/sweet.avif"
      }
    ]

    var featuredTrails = [
      {
        headline: "Headline-1",
        description: "First Slide",
        image: "images/momo.jpg"
      },
      {
        headline: "Headline-2",
        description: "First Slide",
        image: "images/chowmein.jpg"
      },
      {
        headline: "Headline-3",
        description: "First Slide",
        image: "images/tea.jpg"
      }
    ]




    var category_list = document.getElementById("category-list");
    category.forEach(cat => {
      const item = document.createElement("div");
      item.className = "col text-center ";

      item.innerHTML = `
    <div class="position-relative p-3 rounded category-item hover-zoom hover-bg-zoom" 
         style="background-image: url('${cat.bgImage}');
                height: 150px;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;">
      
      <!-- Gradient Overlay -->
      <div class="position-absolute top-0 start-0 w-100 h-100" 
           style="background: rgba(0,0,0,0.5); z-index: 1;"></div>

      <!-- Text & Emoji -->
      <div class="position-relative text-white fw-bold fs-5" style="z-index: 2;">
        <span class="emoji fs-1">${cat.emoji}</span>
        <div class="fs-5">${cat.name}</div>
      </div>
    </div>
  `;

      category_list.appendChild(item);
    });


    var carousel_parent = document.getElementById("carousel-parent");
    featuredTrails.forEach((ele, index) => {
      const item = document.createElement("div");
      item.className = "carousel-item " + (index === 0 ? " active" : "");
      item.innerHTML = `
  <img src="${ele.image}" class="d-block w-100 rounded" alt="...">
      <div class="carousel-caption ">
        <h5>${ele.headline}</h5>
        <p>${ele.description}</p>
      </div>
  `;
      carousel_parent.appendChild(item);
    });


    function updateOptions() {
      const select = document.getElementById('location');
      const width = window.innerWidth;

      if (width >= 768) { // Tablet and Laptop
        select.options[0].text = 'Kathmandu';
        select.options[1].text = 'Bhaktapur';
        select.options[2].text = 'Lalitpur';
      } else { // Mobile
        select.options[0].text = 'KTM';
        select.options[1].text = 'BKT';
        select.options[2].text = 'LLP';
      }
    }


    // Helper function to generate star icons based on rating
function generateStars(rating) {
  let fullStars = Math.floor(rating);
  let halfStar = rating % 1 >= 0.5 ? 1 : 0;
  let emptyStars = 5 - fullStars - halfStar;
  return '<span>' +
         '<i class="fas fa-star"></i>'.repeat(fullStars) +
         '<i class="fas fa-star-half-alt"></i>'.repeat(halfStar) +
         '<i class="far fa-star"></i>'.repeat(emptyStars) +
         '</span>';
}

// Helper function to generate amenities with icons
function generateAmenities(amenities) {
  const amenityIcons = {
    'Wi-Fi': 'fas fa-wifi',
    'Delivery': 'fas fa-motorcycle',
    'Takeaway': 'fas fa-shopping-bag',
    'Dine-in': 'fas fa-utensils',
    'Outdoor': 'fas fa-chair',
    'Family Friendly': 'fas fa-users',
    'Pet Friendly': 'fas fa-paw',
    'Parking Available': 'fas fa-parking',
    'Wheelchair Accessible': 'fas fa-wheelchair',
    'Veg Options': 'fas fa-leaf',
    'Spicy': 'fas fa-fire',
    'Hot': 'fas fa-mug-hot',
    'Map': 'fas fa-map-marker-alt'
  };
  
  return amenities.slice(0, 4).map(amenity => {
    const icon = amenityIcons[amenity] || 'fas fa-check';
    return `<span class="small"><i class="${icon} me-1"></i>${amenity}</span>`;
  }).join('');
}


// Fetch and render restaurant cards from JSON with proper Bootstrap columns
const restaurantList = document.getElementById('restaurant-list');
fetch('restaurant-cards.json')
  .then(response => response.json())
  .then(restaurants => {
    restaurants.forEach((item) => {
      const col = document.createElement('div');
      col.className = 'col';

      const card = document.createElement('div');
      card.className = 'card shadow-sm h-100';

      const statusClass = item.status === 'open' ? 'bg-success' : (item.status === 'closing-soon' ||item.status ==='close' ? 'bg-danger' : 'bg-secondary');
      const cuisines = Array.isArray(item.cuisine) ? item.cuisine.join(' • ') : '';
      const rating = item.rating ?? '';
      const reviews = item.reviewsCount ?? '';
      const priceRange = item.priceRange ?? '';

      card.innerHTML = `
        <img src="${item.image}" alt="${item.name}" style="width:100%; height: clamp(160px, 22vw, 220px); object-fit: cover;" />
        <div class="card-body d-flex flex-column">
          <div class="d-flex justify-content-between align-items-start mb-2">
            <h6 class="mb-0">${item.name}</h6>
            <span class="badge ${statusClass}">${item.status ? item.status.replace('-', ' ') : ''}</span>
          </div>
          <div class="text-muted small">${cuisines}</div>
          ${generateStars(rating)}
          
          <div class="d-flex justify-content-between align-items-center mt-3">
            <span class="fw-bold">${priceRange}</span>
            <a class="btn btn-sm btn-outline-primary" href="restaurant-detail.html?id=${item.id}">View</a>
          </div>
           <div class="d-flex justify-content-between align-items-center mt-3 amenities"> 
             ${generateAmenities(item.amenities || [])}
           </div>
        </div>
      `;

      col.appendChild(card);
      restaurantList.appendChild(col);
    });
  })



  
  .catch(() => {});



    // Update on page load
    updateOptions();

    // Update on window resize
    window.addEventListener('resize', updateOptions);


  </script>
</body>



</html>